{{ 'rish-custom.css' | asset_url | stylesheet_tag }}

<div class="rishu-testimonial-section" style="{% if section.settings.bg_color != blank %}background-color: {{ section.settings.bg_color }};{% endif %}">
  <div class="page-width">
    {%- if section.settings.heading != blank -%}
      <h2 class="rishu-section-heading" style="color: {{ section.settings.heading_color | default: '#000' }};">{{ section.settings.heading }}</h2>
    {%- endif -%}

    <div class="rishu-testimonial-wrapper">
      <button class="rishu-slider-arrow prev-arrow" onclick="scrollRishuTestimonials(-1)" aria-label="Previous"></button>
      <div class="rishu-testimonial-slider" id="rishu-testimonial-slider-{{ section.id }}">
         {%- for block in section.blocks -%}
            <div class="rishu-testimonial-card" {{ block.shopify_attributes }}>
               <div class="rishu-testimonial-stars">
                 {%- for i in (1..5) -%}
                   <svg width="18" height="18" viewBox="0 0 24 24" fill="#FFB800" xmlns="http://www.w3.org/2000/svg">
                     <path d="M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z" stroke="#FFB800" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                   </svg>
                 {%- endfor -%}
               </div>
               
               <blockquote class="rishu-testimonial-quote" style="color: {{ section.settings.text_color | default: '#333' }};">
                 "{{ block.settings.quote }}"
               </blockquote>
               
               <div class="rishu-testimonial-author">
                 {%- if block.settings.author_image != blank -%}
                   {{ block.settings.author_image | image_url: width: 100 | image_tag: class: 'rishu-author-img', loading: 'lazy' }}
                 {%- else -%}
                    <div class="rishu-author-placeholder">
                      {{ block.settings.author_name |  slice: 0 | upcase }}
                    </div>
                 {%- endif -%}
                 <div class="rishu-author-info">
                   <strong style="color: {{ section.settings.heading_color | default: '#000' }};">{{ block.settings.author_name }}</strong>
                   <span style="color: {{ section.settings.text_color | default: '#666' }}; opacity: 0.8;">{{ block.settings.author_role }}</span>
                 </div>
               </div>
            </div>
         {%- endfor -%}
      </div>
      <button class="rishu-slider-arrow next-arrow" onclick="scrollRishuTestimonials(1)" aria-label="Next"></button>
    </div>
  </div>
  </div>
</div>

<script>
  function scrollRishuTestimonials(direction) {
    const slider = document.querySelector('.rishu-testimonial-slider');
    const scrollAmount = slider.clientWidth / 2;
    slider.scrollBy({ left: scrollAmount * direction, behavior: 'smooth' });
  }
</script>

{% schema %}
{
  "name": "Rishu Testimonials",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "What Our Customers Say"
    },
    {
      "type": "color",
      "id": "bg_color",
      "label": "Background Color",
      "default": "#f9f9f9"
    },
    {
      "type": "color",
      "id": "heading_color",
      "label": "Heading Color",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text Color",
      "default": "#333333"
    }
  ],
  "blocks": [
    {
      "type": "testimonial",
      "name": "Testimonial",
      "settings": [
        {
           "type": "textarea",
           "id": "quote",
           "label": "Quote",
           "default": "The quality of these products is simply outstanding. I can really taste the difference in freshness. Highly recommended!"
        },
        {
           "type": "text",
           "id": "author_name",
           "label": "Author Name",
           "default": "Sarah Johnson"
        },
        {
           "type": "text",
           "id": "author_role",
           "label": "Role / Location",
           "default": "Verified Buyer"
        },
        {
           "type": "image_picker",
           "id": "author_image",
           "label": "Author Image"
        }
      ]
    }
  ],
  "presets": [
     {
       "name": "Rishu Testimonials",
       "blocks": [
         { 
           "type": "testimonial",
           "settings": {
              "author_name": "Priya Sharma",
              "quote": "Absolutely love the fresh veggies! They arrived on time and the packaging was eco-friendly. Will order again."
           }
         },
         { 
           "type": "testimonial",
           "settings": {
              "author_name": "Amit Patel",
              "quote": "Best organic produce I've found online. The taste reminds me of my grandmother's farm."
           }
         },
         { 
           "type": "testimonial",
           "settings": {
              "author_name": "Neha Gupta",
              "quote": "Great service and amazing quality. My kids actually enjoy eating the fruits now!"
           }
         }
       ]
     }
  ]
}
{% endschema %}
