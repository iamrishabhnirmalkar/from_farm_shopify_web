{{ 'rish-custom.css' | asset_url | stylesheet_tag }}

<div class="rishu-feature-scroll-section" style="{% if section.settings.bg_image %}background-image: url('{{ section.settings.bg_image | image_url: width: 2000 }}');{% endif %}">
  <div class="page-width">
    {%- if section.settings.heading != blank -%}
      <h2 class="rishu-feature-heading">{{ section.settings.heading }}</h2>
    {%- endif -%}

    <div class="rishu-feature-container">
      {%- for block in section.blocks -%}
        <div class="rishu-feature-card" {{ block.shopify_attributes }}>
          {%- if block.settings.heading != blank -%}
             <h3 class="rishu-feature-card-heading">{{ block.settings.heading }}</h3>
          {%- endif -%}
          
          {%- if block.settings.text != blank -%}
            <div class="rishu-feature-card-text">{{ block.settings.text }}</div>
          {%- endif -%}

          {%- if block.settings.image != blank -%}
            <div class="rishu-feature-card-image-wrapper">
              {{ block.settings.image | image_url: width: 400 | image_tag: class: 'rishu-feature-card-image', loading: 'lazy' }}
            </div>
          {%- endif -%}
        </div>
      {%- endfor -%}
    </div>
  </div>
</div>

{% schema %}
{
  "name": "Rishu Feature Scroll",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Only Perfect Makes The Cut"
    },
    {
      "type": "image_picker",
      "id": "bg_image",
      "label": "Background Image"
    }
  ],
  "blocks": [
    {
      "type": "feature",
      "name": "Feature Card",
      "limit": 4,
      "settings": [
        {
          "type": "text",
          "id": "heading",
          "label": "Heading",
          "default": "Feature Heading"
        },
        {
          "type": "richtext",
          "id": "text",
          "label": "Description",
          "default": "<p>Unlike others, we don't outsource safety.</p>"
        },
        {
          "type": "image_picker",
          "id": "image",
          "label": "Image"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Rishu Feature Scroll",
      "blocks": [
        { "type": "feature" },
        { "type": "feature" },
        { "type": "feature" },
        { "type": "feature" }
      ]
    }
  ]
}
{% endschema %}
