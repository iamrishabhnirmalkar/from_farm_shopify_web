{{ 'rish-custom.css' | asset_url | stylesheet_tag }}

<div class="rishu-header-wrapper">
  <header class="rishu-header">
    <div class="rishu-header-container">
      {%- comment -%} Left: User & Cart Icons {%- endcomment -%}
      <div class="rishu-header-left">
        {%- if shop.customer_accounts_enabled -%}
          <a href="{%- if customer -%}{{ routes.account_url }}{%- else -%}{{ routes.account_login_url }}{%- endif -%}" class="rishu-header-icon rishu-header-user">
            {% render 'icon-account' %}
          </a>
        {%- endif -%}
        <a href="{{ routes.cart_url }}" class="rishu-header-icon rishu-header-cart" id="cart-icon-bubble">
           {% render 'icon-cart' %}
        </a>
      </div>

      {%- comment -%} Center: Logo {%- endcomment -%}
      <div class="rishu-header-center">
        <a href="{{ routes.root_url }}" class="rishu-header-logo">
          {%- if section.settings.logo != blank -%}
            {{ section.settings.logo | image_url: width: section.settings.logo_width | image_tag: loading: 'eager', alt: section.settings.logo.alt | default: shop.name }}
          {%- else -%}
            <span class="rishu-header-logo-text">{{ shop.name }}</span>
          {%- endif -%}
        </a>
      </div>

      {%- comment -%} Right: Hamburger Menu {%- endcomment -%}
      <div class="rishu-header-right">
        <button class="rishu-header-hamburger" aria-label="Menu">
          <span class="hamburger-line line-1"></span>
          <span class="hamburger-line line-2"></span>
          <span class="hamburger-line line-3"></span>
        </button>
      </div>
    </div>
  </header>

  {%- comment -%} Mobile Search Bar (Below Header) {%- endcomment -%}
  <div class="rishu-mobile-search">
    <form action="{{ routes.search_url }}" method="get" role="search" class="rishu-search-form">
      <input
        type="search"
        name="q"
        value="{{ search.terms | escape }}"
        placeholder="Search our store"
        class="rishu-search-input"
      >
      <button type="submit" class="rishu-search-button" aria-label="Search">
        {% render 'icon-search' %}
      </button>
    </form>
  </div>
  
  {%- comment -%} Mobile Menu Drawer {%- endcomment -%}
  <div class="rishu-mobile-menu">
     <nav class="rishu-mobile-nav">
       <ul class="rishu-mobile-nav-list">
         {%- for link in section.settings.menu.links -%}
           <li>
             <a href="{{ link.url }}" class="rishu-mobile-nav-link">
               {{ link.title }}
             </a>
           </li>
         {%- endfor -%}
       </ul>
     </nav>
  </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const hamburger = document.querySelector('.rishu-header-hamburger');
    const mobileMenu = document.querySelector('.rishu-mobile-menu');
    const header = document.querySelector('.rishu-header');

    if (hamburger) {
      hamburger.addEventListener('click', function() {
        hamburger.classList.toggle('active');
        mobileMenu.classList.toggle('active');
        document.body.classList.toggle('rishu-menu-open');
      });
    }
  });
</script>

{% schema %}
{
  "name": "Rishu Header",
  "class": "section-header",
  "settings": [
    {
      "type": "image_picker",
      "id": "logo",
      "label": "Logo"
    },
    {
      "type": "range",
      "id": "logo_width",
      "min": 50,
      "max": 250,
      "step": 10,
      "default": 100,
      "unit": "px",
      "label": "Logo width"
    },
    {
      "type": "link_list",
      "id": "menu",
      "default": "main-menu",
      "label": "Menu"
    }
  ],
  "presets": [
    {
      "name": "Rishu Header"
    }
  ]
}
{% endschema %}
